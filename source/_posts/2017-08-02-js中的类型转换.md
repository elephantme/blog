---
title: Js中的数值类型转化规则
date: 2017-08-03 22:36:02
tags:
categories:
---

> 有3个函数可以把非数值转化为数值：Number()、parseInt()、parseFloat()。其中Number()可以用于任何数据类型，而另两个函数则专门用于把字符串转成数值。这三个函数对同样的输入会有返回不同的结果。

<!-- More -->

## Number()转化规则

* 如果是Boolean值，true和false则分别转化为1和0。
* 如果是数字值，则只是简单的传入和返回。
* 如果是null值，则返回0。
* 如果是undefined，则返回NaN。
* 如果是字符串，则遵循下列规则：
  * 如果字符串只包含数字（包括前面的正负号），则将其转换为十进制数值，如果有前导0，则被忽略。
  * 如果字符串中包含有效的浮点格式，则将其转换为对应的浮点数值（同样忽略前导0）。
  * 如果字符串中包含有效的十六进制格式，例如“0xf”，则将其转换为相同大小的十进制整数值。
  * 如果字符串是空的，则转换为0。
  * 如果字符串包含除上述之外的字符，则将其转换为NaN。
* 如果是对象，则调用对象的valueOf()方法，然后依照前面的规则转换返回的值。如果转换的结果是NaN，则调用对象的toString()方法，然后再依照前面的规则转换返回的字符串值。

## parseInt()转化规则

parseInt()函数在转化字符串时，更多的是看其是否符合数值模式。它会忽略前面的空格，直到找到第一个非空格字符。如果第一个字符不是数字字符（包括正负号），就会返回NaN；也就是说parseInt("")会返回NaN。如果第一个字符是数字字符，则会继续解析第二个字符，直到解析完所有后续字符或者遇到一个非数字字符。例如"12as"会转换为12。

如果以“0x”开头且后跟数字字符，就会将其当做十六进制整数。
ES5之后不再解析八进制，即"070"会被解析为70。

parseInt()函数第二个参数，可以指定使用的基数（即多少进制）

```javascript
// 如果指定基数，可以不带前面的“0x”
parseInt("AF", 16);    // 175
parseInt("AF");        // NaN
```

## parseFloat()转化规则

也是从第一个字符开始解析，一直解析到字符串末尾，或者遇到一个无效的浮点数字字符为止。也就是说，第一个小数点是有效的，而第二个就无效了，因此它后面的字符串将被忽略。"22.12.2"会被转换为22.12。

只能解析为十进制整数格式，没有第二个参数。

字符串包含的是一个可解析为整数的数（没有小数点，或者小数点后都是零），parseFloat()会返回整数。

**注意**

对非数值型应用递增递减操作符（++、--）和一元加减操作符时，先会使用Number()来进行转化。



